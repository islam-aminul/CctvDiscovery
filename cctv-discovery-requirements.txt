Your goal is to build a CCTV Discovery Tool using Java 8.
CRITICAL INSTRUCTION:
Read the Specification. Acknowledge understanding.
MASTER SPECIFICATION - SOURCE OF TRUTH
Architecture: Java 8 "Fat JAR". Entry Point: com.cctv.discovery.Main -> calls com.cctv.discovery.ui.Launcher.
Core Libs: JavaFX (Bundled), JavaCV (FFmpeg/OpenCV), OSHI, Apache POI.
1. UI Layout & Behavior (The "Dashboard" Design)
 General: Professional, Flat Design (JavaFX CSS). Tooltips on ALL inputs/buttons.
 Layout Structure: SplitPane with a Scrollable Left Panel (Controls) and a Right Panel (Results).
 Left Panel (Controls):
   Header: App Title/Logo + Help Button (extracts HTML manual).
   Network Section:
     Selection: 3 Visible Options (Radio/Toggle): Interface List (Default), Manual Range, CIDR.
     Validation: Dynamic check. Display "Possible IPs: [Count]" immediately below selection.
   Credential Section:
     Inputs: Username (Default: "admin"), Password (TextField - Visible/Plaintext).
     Add Button: Label "Add Credential". Disabled if Credential Count = 4.
     List Display: Show added pairs. Right-Click Context Menu: "Edit", "Delete".
   Action Section:
     Start Button: Enabled ONLY IF (Valid Network Input) AND (Credential Count > 0).
     Logic: On Click -> Disable all Network/Credential inputs and the Start Button.
   Progress Section:
     Progress Bar: 0% to 100%.
     Label: "Processing [X] of [Y] devices...".
   Export Section:
     Export Button: Located at the bottom.
     State: Disabled by default. Enabled ONLY when Discovery is 100% complete AND Device Count > 0.
 Right Panel (Results):
   Table: Columns for IP, Status, Name, Stream Details, Errors.
   Resizing: Columns must auto-adjust width when the window is resized.
   Interaction: Right-Click on "Auth Failed" rows -> Open Retry Modal (New User/Pass input) -> Retry logic for selected row.
2. Discovery & Logic Flow
 Step 1: Network Scan:
   Execute WS-Discovery (JDK 8 XML/SOAP - No Regex).
   Prompt: If >0 devices found, show count and ask: "Run deep Port Scan?".
   Port Scan: If confirmed (or if 0 found), run Scan (Thread Pool: 8x CPU, Cap 64). Ports: 80, 8080, 554, 8443, 443, 8000, 37777, 34567.
 Step 2: Stream Verification (Automatic):
   Immediately after finding an IP, attempt Authentication.
   Priority: ONVIF -> RTSP Guessing (Smart Cache -> Manufacturer -> Generic).
   NVR Logic: If ONVIF GetVideoSources > 1 OR NVR Port (8000) open -> Unroll/Iterate Channels 1-64.
 Step 3: Deep Audit:
   For every verified stream, run 10s analysis (Parallel: Max 8 Threads).
   Capture: Name, Res, FPS, Codec, Bitrate.
   Compliance: Flag Red if Sub-stream != 360p-480p, H264, <256kbps.
3. Reporting
 Excel: Apache POI. Consolas Font. WARNING about Plaintext Passwords.
 Inputs: Mandatory "Site ID" popup before saving.

1. System Architecture & Core Concept
 Architecture Model: The application is a "Fat JAR" containing all dependencies.
 JavaFX Compatibility Strategy: To prevent "Runtime Components Missing" errors on modern or headless Java environments, the application uses a decoupled entry point structure:
   Main Class: com.cctv.discovery.Main (A standard Java class with public static void main).
   UI Class: com.cctv.discovery.ui.Launcher (Extends javafx.application.Application).
   Execution: Main simply calls Launcher.main(args) to initialize the JavaFX runtime correctly.
 Logging: The system must implement comprehensive logging (SLF4J/Logback) for debugging and auditing.
2. User Interface (JavaFX Dashboard)
 Design Philosophy: Professional, flat design using JavaFX CSS. All window controls (Minimize, Maximize, Close) must use professional styling.
 Main Layout: A SplitPane dividing the window into two distinct areas:
   Left Panel: Scrollable Control Panel (Inputs & Actions).
   Right Panel: Results Panel (Data Table).
3. Left Panel - Controls & Inputs
 3.1 Header & Help:
   Top of the panel displays the App Title.
   Help Button: Labeled "User Manual".
   Help Logic: On click, extracts embedded HTML documentation and PNG images from the JAR resources to the OS temporary directory (java.io.tmpdir) and automatically opens the HTML file in the default system web browser.
 3.2 Network Section:
   Selection Mode: Three radio buttons/toggles:
     Auto Interface: Dropdown of active physical network adapters. Logic: Auto-calculate CIDR based on selection.
     Manual Range: Inputs for Start IP and End IP.
     CIDR: Input for CIDR string (e.g., 192.168.1.0/24).
   Validation: Dynamic validation that immediately displays a label: "Possible IPs: [Count]" below the input.
 3.3 Credential Section:
   Inputs: Username (Default: "admin") and Password (Visible Plaintext field to avoid ambiguity).
   Add Action: "Add Credential" button.
   Constraint: Maximum 4 credential sets allowed. Button/Inputs disable after the 4th entry.
   Management: Display added credentials in a list. Users can Right-Click to "Edit" or "Delete" entries.
 3.4 Action Section:
   "Start Discovery" Button:
     Enabled Condition: ONLY if (Valid Network Input is selected) AND (At least 1 Credential is added).
     Behavior: On click, DISABLE all inputs (Network, Credentials, Start Button) to lock the UI during the scan.
 3.5 Progress Section:
   Visible Progress Bar (0-100%).
   Status Label: "Processing [X] of [Y] devices...".
 3.6 Export Section:
   "Export to Excel" Button: Located at the bottom.
   Enabled Condition: ONLY when discovery is 100% complete AND at least one device was found.
4. Right Panel - Results & Interaction
 Data Table: Columns for IP Address, Status, Device Name, Stream Details (Main/Sub), and Error Details.
 Auto-Resize: Columns must automatically adjust width when the window is resized.
 Retry Interaction: Users can Right-Click on any row with status "Auth Failed" to open a Retry Modal.
   Modal: Allows entering a new Username/Password to retry verification for only that specific device.
5. Functional Logic: The Discovery Pipeline
Phase 1: Network Scanning
 WS-Discovery (ONVIF):
   Broadcast a UDP Probe to 239.255.255.250:3702.
   Strict Constraint: Use standard JDK 8 javax.xml.soap and org.w3c.dom for XML parsing. NO Regex parsing. NO external ONVIF libraries.
 Logic Branch:
   If 0 Devices Found: Automatically trigger Port Scan.
   If >0 Devices Found: Prompt user: "Found X devices. Do you want to perform a deep Port Scan?"
 Port Scan (Hybrid):
   Thread Pool: Size = 8x CPU Cores, capped at 64 Threads maximum.
   Target Ports: 554, 80, 8080, 443, 8443 (Standard) AND 8000, 37777, 34567 (Manufacturer).
   Exclusion: Do NOT scan management ports (22, 23).
 Identification:
   MAC Address: Resolve via ONVIF UUID (if available) OR run OS-specific arp -a command (Strategy Pattern).
   Manufacturer: Identify via internal oui.csv lookup (First 3 MAC bytes).
Phase 2: Authentication & NVR Logic
 Auth Priority: Try ONVIF (Digest -> WS-Security). If failed, try RTSP Guessing.
   RTSP Guessing Waterfall:
     Smart Cache: Try paths that worked for similar MAC prefixes.
     Manufacturer Defaults: (Hikvision, Dahua, etc.).
     Generic: (/live, /ch0).
 NVR/DVR "Unrolling" (Crucial):
   Method A (ONVIF): Parse GetVideoSources. If count > 1, create a distinct Logical Device entry for each Source Token.
   Method B (RTSP Fallback): If NVR port (8000/37777) is open, trigger Channel Iteration. Loop channels 1â€“64. Stop after 3 consecutive failures. Create Logical Devices for each working channel pair.
Phase 3: Deep Audit
 Execution: Parallel Thread Pool (Max 8 Threads).
 Analysis: Connect to stream for 10 seconds.
 Data Capture:
   Name: Waterfall (ONVIF Name -> RTSP SDP Header -> Synthesized [Make]_[IP]).
   Resolution, FPS, Codec, Bitrate.
 Compliance Check (Red Flags):
   Sub-stream Resolution: 360p - 480p.
   Sub-stream Codec: H.264.
   Sub-stream Bitrate: < 256 Kbps.
 Host Audit: Use OSHI library to log Host Hardware, Network Interfaces, and NTP Time Drift (Alert if >1s).
6. Reporting (Excel Export)
 Trigger: Prompt for mandatory "Site ID" (Optional: Premise Name, Operator Name).
 Format: .xlsx (Apache POI).
 Styling Rules:
   Font: Consolas (Monospace) for all data cells (to ensure ambiguous characters like 0/O are readable).
   Header: Must display WARNING of Contains Plaintext Passwords.
   Visuals: Red Background for any cell that fails a Compliance Check.
   Error Column: Dedicated column for specific error details.
7. Build & Distribution
 Maven Optimization: Use Profiles (windows-x64, linux-x64, mac-arm64) to include only the relevant JavaCV native classifier for that OS.
 Windows Executable: Use launch4j-maven-plugin.
   Wrap the JAR as an .exe.
   Configuration must point to a relative JRE path (./jre8) to support bundling.
 Security Signing:
   Generate Self-Signed Certificate (.pfx) using keytool-maven-plugin.
   Sign the .exe using signtool.exe via exec-maven-plugin.
 Final Artifact: A ZIP file containing:
   The signed .exe.
   The jre8/ folder (local copy).


Device/Camera POJO: IP, MAC Address, Device/Camera Name, Device Type, Manufacturer, Model, Serial Number, Time Difference, Username, Password, ONVIF Service URL, List of Open ONVIF Ports, List of Open RTSP Ports, List of Open Special Ports, Enum ONVIF Authentication Method, Auth Failed Flag, Is NVR/DVR Flag, Error Message, List of RTSP Stream Object (Video Source Name Channel Name Stream Name, RTSP URL, Resolution, Codec, Bitrate (kbps), FPS).
Excel Columns: IP, MAC, Name, Type, Manufacturer, Model, Serial Number, Time Diff (sec), Username, Password, Error, { Stream Name, RTSP URL, Resolution, Codec, Bitrate (kbps), FPS } for each main and sub streams.
I have placed: 
- jre8: Directory contains Amazon Corretto 8 JRE.
- guide-pom.xml: This is the reference POM (Project Object Model) file.
- ieee-oui.csv: This file serves as a reference for manufacturer MAC address codes obtained from the IEEE website.
- copy-to-src-main-resources/oui.csv: This file is optimised for manufacturer detection based on MAC addresses, specifically for use in Indian geography.
- copy-to-src-main-resources/icon{.ico,.png}: These files are to be used as application icons and executable thumbnails.
Analyse the requirements above. If you understand the step-by-step constraint, proceed with implementation.